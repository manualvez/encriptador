<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- CSS -->
    <link rel="stylesheet" href="./css/style.css">

    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&family=Open+Sans:wght@400;500;700&display=swap" rel="stylesheet">

    <!-- Font Awesome -->
    <script src="https://kit.fontawesome.com/81b193b5d2.js" crossorigin="anonymous"></script>

    <title>Document</title>
</head>
<body>
    <main>
        <div id="main-div-img">
            <img id="img-alura" src="./img/logo.png" alt="Alura Logo">
        </div>
        <div id="main-div-1">
            <input id="input-text" type="text" placeholder="Ingrese el texto aqui." size="7" >

            <div id="text-main-div-1">
                <i class="fa-solid fa-circle-exclamation" style="padding-right: 10px; "></i>

                <p>
                    Solo letras minúsculas y sin acentos
                </p>
            </div>

            <div id="main-div-buttons">
                <button onclick="encriptar( )" id="button-encriptar">
                    Encriptar
                </button>
                
                <button onclick="desencriptar( )" id="button-desencriptar">
                    Desencriptar
                </button>
            </div>
        </div>

        <section>
            <img id="img-section" src="./img/Muñeco.png" alt="">
            
            <div id="texto-section">
                <h3>
                    Ningún mensaje fue encontrado
                </h3>
            </div>
            <textarea placeholder="Ingresa el texto que desees encriptar o desencriptar" name="textarea-section" id="textarea-section"></textarea>

            <button onclick="copiar( )" id="button-copiar">
                Copiar
            </button>
        </section>

        <script>
            
            document.getElementById("button-copiar").style.display = 'none';
            
            function mayusPrimeraLetra(text) {
                let texto = text.charAt(0).toUpperCase() + text.slice(1);
                return texto;
            }

            function desencriptador(){

                let text = document.getElementById('input-text').value.toLowerCase();
                let textoCif = text.replace(/enter/igm,'e');
                textoCif = textoCif.replace(/imes/igm,'i'); 
                textoCif = textoCif.replace(/ai/igm,'a');
                textoCif = textoCif.replace(/ober/igm,'o');
                textoCif = textoCif.replace(/ufat/igm,'u');

                return mayusPrimeraLetra(textoCif)
            }

            function encriptador(){

                let text = document.getElementById('input-text').value.toLowerCase();
                let textoCif = text.replace(/e/igm,'enter');
                textoCif = textoCif.replace(/i/igm,'imes');
                textoCif = textoCif.replace(/a/igm,'ai');
                textoCif = textoCif.replace(/o/igm,'ober');
                textoCif = textoCif.replace(/u/igm,'ufat');
                return mayusPrimeraLetra(textoCif)
            }

            function encriptar(){
                document.getElementById("img-section").outerHTML = "";
                document.getElementById('texto-section').outerHTML = "";
                
                document.getElementById('textarea-section').innerHTML = encriptador();
                document.getElementById("button-copiar").style.display = 'block';
            }

            function desencriptar(){
                document.getElementById("img-section").outerHTML = "";
                document.getElementById('texto-section').outerHTML = "";
                document.getElementById('textarea-section').innerHTML = desencriptador();
                document.getElementById("button-copiar").style.display = 'block';
            }
            
            function copiar() {
                let copyText = document.getElementById('textarea-section');
                navigator.clipboard.writeText(copyText.value);
            }
        </script>
    </main>
</body>
</html>